function renderShifts(){
  shiftTableBody.innerHTML = '';
  const userData = getCurrentUserData();
  const shifts = userData.shifts || {};

  // gebruik altijd shiftOrder, of anders alfabetisch
  const order = userData.shiftOrder || Object.keys(shifts);
  const selectedYear = filterShiftYear.value;

  order.forEach(sName => {
    const sh = shifts[sName];
    if(!sh) return;

    // filter op jaar indien gekozen
    if (selectedYear && sh.startDate) {
      const year = new Date(sh.startDate).getFullYear().toString();
      if(year !== selectedYear) return;
    } else if (selectedYear && !sh.startDate) {
      return; // geen startDate → valt buiten filter
    }

    const tr = document.createElement('tr');
    tr.setAttribute('draggable','true');
    tr.dataset.shiftName = sName;
    tr.innerHTML = `
      <td class="nowrap">${sName}</td>
      <td>${sh.start||''}</td>
      <td>${sh.end||''}</td>
      <td>${sh.break||0}</td>
      <td>${sh.project||''}</td>
      <td>${toDisplayDate(sh.startDate)} → ${toDisplayDate(sh.endDate)}</td>
      <td>
        <button class="btn orange btn-small" onclick="editShift('${sName}')">Bewerk</button>
        <button class="btn red btn-small" onclick="deleteShift('${sName}')">Verwijder</button>
      </td>`;
    shiftTableBody.appendChild(tr);
  });

  enableDragAndDropOnShifts();
}
